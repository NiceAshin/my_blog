(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{472:function(a,s,e){"use strict";e.r(s);var t=e(2),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),s("blockquote",[s("p",[a._v("预计阅读时间：11 分钟")])]),a._v(" "),s("p",[a._v("[什么是docker]:")]),a._v(" "),s("h2",{attrs:{id:"docker常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker常用命令"}},[a._v("#")]),a._v(" Docker常用命令")]),a._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/docker/commands/help.html"}},[a._v("Docker帮助命令")])],1),a._v(" "),s("li",[s("RouterLink",{attrs:{to:"/docker/commands/images.html"}},[a._v("Docker镜像命令")])],1),a._v(" "),s("li",[s("RouterLink",{attrs:{to:"/docker/commands/container.html"}},[a._v("Docker容器命令")])],1),a._v(" "),s("li",[s("RouterLink",{attrs:{to:"/docker/commands/other.html"}},[a._v("Docker其他命令")])],1)]),a._v(" "),s("h2",{attrs:{id:"centos7安装docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos7安装docker"}},[a._v("#")]),a._v(" Centos7安装docker")]),a._v(" "),s("p",[a._v("1、Docker 要求 CentOS 系统的内核版本高于 3.10 ，查看本页面的前提条件来验证你的CentOS 版本是否支持 Docker 。")]),a._v(" "),s("p",[a._v("通过 uname -r命令查看你当前的内核版本")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ uname -r\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("2、使用 root 权限登录 Centos。确保 yum 包更新到最新。")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ sudo yum update\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("3、卸载旧版本(如果安装过旧版本的话)")]),a._v(" "),s("p",[a._v("$ sudo yum remove docker docker-common docker-selinux docker-engine")]),a._v(" "),s("p",[a._v("4、安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("5、设置yum源")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/1GOoJ7feKNkci2d.jpg",alt:"img"}})]),a._v(" "),s("p",[a._v("6、可以查看所有仓库中所有docker版本，并选择特定版本安装")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ yum list docker-ce --showduplicates | sort -r\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/PdzKJ7gwuX6tGxo.jpg",alt:"img"}})]),a._v(" "),s("p",[a._v("7、安装docker")]),a._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#由于repo中默认只开启stable仓库，故这里安装的是最新稳定版")]),a._v("\n$ sudo yum install docker-ce \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#下载指定版本")]),a._v("\n$ sudo yum install <FQPN> \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 例如：sudo yum install docker-ce-17.12.0.ce")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/gTWL3kdDtheuqJr.jpg",alt:"img"}})]),a._v(" "),s("p",[a._v("8、启动并加入开机启动")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ sudo systemctl start docker \n$ sudo systemctl enable docker\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("9、验证安装是否成功(有client和service两部分表示docker安装启动都成功了)")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ docker version\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"docker部署mariadb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker部署mariadb"}},[a._v("#")]),a._v(" Docker部署Mariadb")]),a._v(" "),s("h5",{attrs:{id:"搜索mariadb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索mariadb"}},[a._v("#")]),a._v(" 搜索Mariadb")]),a._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[a._v("docker search mariadb\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"下载mariadb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载mariadb"}},[a._v("#")]),a._v(" 下载MariaDB")]),a._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[a._v("docker pull docker.io/mariadb:10.2.23\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/eKN7qaojI4UtCYy.png",alt:"image-20220415153028404"}})]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker images\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/9gcU5dsWJhx7r2S.png",alt:"image-20220415153100547"}})]),a._v(" "),s("h5",{attrs:{id:"启动mariadb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动mariadb"}},[a._v("#")]),a._v(" 启动MariaDB")]),a._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[a._v("docker run -p 3306:3306 -v \n/usr/local/mariadb/master/conf:/etc/mysql/conf.d -v /usr/local/mariadb/master/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root123 -e MYSQL_ROOT_HOST=% --privileged=true --name mariadb-master -d --restart=unless-stopped docker.io/mariadb:10.2.23 --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"docker安装redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装redis"}},[a._v("#")]),a._v(" Docker安装redis")]),a._v(" "),s("h5",{attrs:{id:"搜索redis镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索redis镜像"}},[a._v("#")]),a._v(" 搜索redis镜像")]),a._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[a._v("docker search redis\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"下载mariadb镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载mariadb镜像"}},[a._v("#")]),a._v(" 下载MariaDB镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull redis\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/HNvLf6gPEDc4WMG.png",alt:"image-20220415153816216"}})]),a._v(" "),s("h5",{attrs:{id:"查看redis镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看redis镜像"}},[a._v("#")]),a._v(" 查看redis镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker images\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/PXfGV3qs1u5LE9n.png",alt:"image-20220415153832284"}})]),a._v(" "),s("h5",{attrs:{id:"启动redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动redis"}},[a._v("#")]),a._v(" 启动redis")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run --restart=unless-stopped -p 6379:6379 --name redis -d redis redis-server --appendonly yes\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/K8pDyPRNGFkfuIw.png",alt:"image-20220415154013257"}})]),a._v(" "),s("h2",{attrs:{id:"docker安装mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mongodb"}},[a._v("#")]),a._v(" Docker安装MongoDB")]),a._v(" "),s("h5",{attrs:{id:"搜索mongodb镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索mongodb镜像"}},[a._v("#")]),a._v(" 搜索MongoDB镜像")]),a._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[a._v("docker search mongo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"下载mongodb镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载mongodb镜像"}},[a._v("#")]),a._v(" 下载MongoDB镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull mongo:3.2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/aXHGWAoxEhMrkyt.png",alt:""}})]),a._v(" "),s("h5",{attrs:{id:"查看mongodb镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看mongodb镜像"}},[a._v("#")]),a._v(" 查看MongoDB镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker images\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/XVp2dvcQElTYiSz.png",alt:""}})]),a._v(" "),s("h5",{attrs:{id:"启动mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动mongodb"}},[a._v("#")]),a._v(" 启动MongoDB")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run --restart=unless-stopped --name mongodb-server -v /usr/local/mongo/configdb:/data/configdb -v /usr/local/mongo/db:/data/db -p 27017:27017 -d mongo:3.2 --auth\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/ya6oCKpLb8JBm3S.png",alt:"image-20220415154247348"}})]),a._v(" "),s("h5",{attrs:{id:"进入mongodb进行配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入mongodb进行配置"}},[a._v("#")]),a._v(" 进入MongoDB进行配置")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('#1、docker进入MongoDB\ndocker exec -it mongodb-server mongo admin\n#2、创建admin用户\ndb.createUser( {\nuser: "admin",\npwd: "admin",\nroles: [ { role: "userAdminAnyDatabase", db: "admin" } ]})\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("h5",{attrs:{id:"验证是否可以连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证是否可以连接"}},[a._v("#")]),a._v(" 验证是否可以连接")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/qUmwpPo8nAG7LNQ.png",alt:"image-20220415154518763"}})]),a._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/qUmwpPo8nAG7LNQ.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"docker安装rabbitmq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装rabbitmq"}},[a._v("#")]),a._v(" Docker安装RabbitMQ")]),a._v(" "),s("h5",{attrs:{id:"下载包含管理界面的rabbitmq镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载包含管理界面的rabbitmq镜像"}},[a._v("#")]),a._v(" 下载包含管理界面的RabbitMQ镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull rabbitmq:management\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/5nrtQ2evbU47DfC.png",alt:""}})]),a._v(" "),s("h5",{attrs:{id:"查看rabbitmq镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看rabbitmq镜像"}},[a._v("#")]),a._v(" 查看RabbitMQ镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker images\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/9uQFEKarI78JCzW.png",alt:""}})]),a._v(" "),s("h5",{attrs:{id:"启动rabbitmq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动rabbitmq"}},[a._v("#")]),a._v(" 启动RabbitMQ")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run --restart=unless-stopped -d -p 5672:5672 -p 15672:15672 --name rabbitmq -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin rabbitmq:management\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/nIrEV5uKb6TW9C4.png",alt:""}})]),a._v(" "),s("h5",{attrs:{id:"验证是否可以连接-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证是否可以连接-2"}},[a._v("#")]),a._v(" 验证是否可以连接")]),a._v(" "),s("p",[a._v("​\t浏览器访问：http://ip:5672")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2022/04/15/6qlKBLcQf3vmPhJ.png",alt:"image-20220415154903266"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);